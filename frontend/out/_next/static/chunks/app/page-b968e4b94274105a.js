(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1292:function(e,s,t){Promise.resolve().then(t.bind(t,5285))},5285:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return S}});var a=t(7437),l=t(2265),n=t(4660),c=t(5925);let r={selectedCards:[],giftAssignments:[],discardCards:[],exchangeCards:[],chatMessages:[]},i=(0,n.Ue)((e,s)=>({...r,gameState:null,connectionState:{status:"disconnected"},playerId:null,websocket:null,showGiftModal:!1,showDiscardModal:!1,showExchangeModal:!1,connect:t=>{let{websocket:a}=s();a&&a.close(),e({connectionState:{status:"connecting"}});try{let a=new WebSocket(t);a.onopen=()=>{e({connectionState:{status:"connected"},websocket:a}),c.default.success("Connected to game server")},a.onmessage=t=>{try{let a=JSON.parse(t.data);(function(e,s,t){switch(e.type){case"join_success":s({playerId:e.player_id});break;case"state_full":s({gameState:e.state});break;case"state_patch":let a=t().gameState;if(a){let t=function(e,s){let t={...e};for(let e of s){let s=e.path.split("/").filter(e=>e);"replace"===e.op||"add"===e.op?function(e,s,t){let a=e;for(let e=0;e<s.length-1;e++){let t=s[e];t in a||(a[t]={}),a=a[t]}s.length>0&&(a[s[s.length-1]]=t)}(t,s,e.value):"remove"===e.op&&function(e,s){let t=e;for(let e=0;e<s.length-1;e++){let a=s[e];if(!(a in t))return;t=t[a]}s.length>0&&delete t[s[s.length-1]]}(t,s)}return t}(a,e.ops);s({gameState:t})}break;case"error":c.default.error("".concat(e.code,": ").concat(e.message));break;case"effect":(function(e,s,t){switch(e.effect_type){case"seven_gift":(0,c.default)("Someone played sevens! Gift distribution required.",{icon:"\uD83C\uDF81"});break;case"eight_reset":(0,c.default)("Pile reset! Same player continues.",{icon:"\uD83D\uDD04"});break;case"ten_discard":(0,c.default)("Someone played tens! Discard required.",{icon:"\uD83D\uDDD1️"});break;case"jack_inversion":(0,c.default)("Rank order inverted!",{icon:"\uD83D\uDD04"});break;case"round_ended":(0,c.default)("Round ended!",{icon:"\uD83C\uDFC1"})}})(e,0,0);break;case"chat":let l=t();s({chatMessages:[...l.chatMessages,{player_id:e.player_id,player_name:e.player_name,text:e.text,timestamp:e.timestamp}].slice(-50)})}})(a,e,s)}catch(e){console.error("Failed to parse WebSocket message:",e)}},a.onclose=()=>{e({connectionState:{status:"disconnected"},websocket:null}),c.default.error("Disconnected from game server")},a.onerror=s=>{console.error("WebSocket error:",s),e({connectionState:{status:"error",error:"Connection failed"},websocket:null}),c.default.error("Connection failed")}}catch(s){e({connectionState:{status:"error",error:"Failed to create connection"}}),c.default.error("Failed to create connection")}},disconnect:()=>{let{websocket:t}=s();t&&t.close(),e({connectionState:{status:"disconnected"},websocket:null,gameState:null,playerId:null,showGiftModal:!1,showDiscardModal:!1,showExchangeModal:!1,...r})},sendEvent:e=>{let{websocket:t,connectionState:a}=s();if("connected"!==a.status||!t){c.default.error("Not connected to server");return}try{t.send(JSON.stringify(e))}catch(e){console.error("Failed to send event:",e),c.default.error("Failed to send message")}},joinRoom:function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];console.log("Joining room: ".concat(e," as ").concat(t," (bot: ").concat(a,")")),s().sendEvent({type:"join",room_id:e,name:t,is_bot:a}),a&&c.default.success("Adding ".concat(t," to the game..."))},startGame:e=>{s().sendEvent({type:"start",seed:e})},playCards:t=>{console.log("Sending play event: ".concat(t.join(", "))),s().sendEvent({type:"play",cards:t}),e({selectedCards:[]})},passTurn:()=>{s().sendEvent({type:"pass"})},submitGiftDistribution:()=>{let{giftAssignments:t}=s();s().sendEvent({type:"gift_select",assignments:t}),e({giftAssignments:[],showGiftModal:!1})},submitDiscardSelection:()=>{let{discardCards:t}=s();s().sendEvent({type:"discard_select",cards:t}),e({discardCards:[],showDiscardModal:!1})},submitExchangeReturn:()=>{let{exchangeCards:t}=s();s().sendEvent({type:"exchange_return",cards:t}),e({exchangeCards:[],showExchangeModal:!1})},sendChatMessage:e=>{s().sendEvent({type:"chat",text:e})},selectCard:s=>{e(e=>({selectedCards:e.selectedCards.includes(s)?e.selectedCards:[...e.selectedCards,s]}))},deselectCard:s=>{e(e=>({selectedCards:e.selectedCards.filter(e=>e!==s)}))},clearSelection:()=>{e({selectedCards:[]})},setGiftAssignments:s=>{e({giftAssignments:s})},setDiscardCards:s=>{e({discardCards:s})},setExchangeCards:s=>{e({exchangeCards:s})},openGiftModal:()=>e({showGiftModal:!0}),closeGiftModal:()=>e({showGiftModal:!1}),openDiscardModal:()=>e({showDiscardModal:!0}),closeDiscardModal:()=>e({showDiscardModal:!1}),openExchangeModal:()=>e({showExchangeModal:!0}),closeExchangeModal:()=>e({showExchangeModal:!1})}));var d=t(3966),o=t(5750),m=t(9168),x=t(4900);function h(){var e,s,t,n,c;let{gameState:r,joinRoom:h,startGame:u}=i(),[p,j]=(0,l.useState)("game-1"),[g,b]=(0,l.useState)(""),[v,f]=(0,l.useState)(!1),N=()=>{var e;if(p&&r&&Object.keys(r.players).length<((null===(e=r.rules)||void 0===e?void 0:e.max_players)||5)){let e=Object.values(r.players).filter(e=>e.is_bot).length+1;console.log("Adding bot:","Bot ".concat(e)),h(p,"Bot ".concat(e),!0)}else console.log("Cannot add bot - room full or no game state")},y=r&&Object.keys(r.players).length>=((null===(e=r.rules)||void 0===e?void 0:e.min_players)||3);return v||r?(0,a.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold",children:["Room: ",null==r?void 0:r.id]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[Object.keys((null==r?void 0:r.players)||{}).length," / ",(null==r?void 0:null===(s=r.rules)||void 0===s?void 0:s.max_players)||5," players"]})]})]}),(0,a.jsx)("div",{className:"space-y-2 mb-6",children:Object.values((null==r?void 0:r.players)||{}).sort((e,s)=>e.seat-s.seat).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[e.is_bot&&(0,a.jsx)(d.Z,{className:"h-4 w-4 text-blue-500"}),"President"===e.role&&(0,a.jsx)(m.Z,{className:"h-4 w-4 text-yellow-500"}),(0,a.jsx)("span",{className:"font-medium",children:e.name})]}),e.role&&(0,a.jsx)("span",{className:"role-".concat(e.role.toLowerCase()),children:e.role})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["Seat ",e.seat+1]}),(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.connected?"bg-green-500":"bg-red-500")})]})]},e.id))}),(null==r?void 0:r.rules)&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-medium mb-2",children:"Game Settings"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsxs)("div",{children:["Players: ",r.rules.min_players," - ",r.rules.max_players]}),(0,a.jsxs)("div",{children:["Jokers: ",r.rules.use_jokers?"Enabled":"Disabled"]}),(0,a.jsxs)("div",{children:["Bots: ",r.rules.enable_bots?"✅ Allowed":"❌ Not allowed"]}),(0,a.jsxs)("div",{children:["Phase: ",r.phase]}),(0,a.jsxs)("div",{children:["Current players: ",Object.keys(r.players).length]})]})]}),!1,(null==r?void 0:null===(t=r.rules)||void 0===t?void 0:t.enable_bots)&&(0,a.jsxs)("div",{className:"mb-4 p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,a.jsx)("h3",{className:"font-medium mb-2 text-green-800",children:"Play with AI Bots"}),(0,a.jsx)("p",{className:"text-sm text-green-700 mb-3",children:"Add AI opponents to play immediately! Bots will make strategic moves and provide a challenging game."}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{onClick:N,disabled:Object.keys((null==r?void 0:r.players)||{}).length>=((null==r?void 0:null===(n=r.rules)||void 0===n?void 0:n.max_players)||5),className:"btn-secondary",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Add Bot"]}),1===Object.keys((null==r?void 0:r.players)||{}).length&&(0,a.jsxs)("button",{onClick:()=>{N(),setTimeout(()=>N(),200),setTimeout(()=>N(),400)},className:"btn-secondary",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Add 3 Bots"]})]})]}),(0,a.jsx)("div",{className:"flex space-x-3",children:(0,a.jsxs)("button",{onClick:()=>{u()},disabled:!y,className:"btn-primary flex-1",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Start Game",!y&&(0,a.jsxs)("span",{className:"ml-2 text-xs",children:["(Need ",((null==r?void 0:null===(c=r.rules)||void 0===c?void 0:c.min_players)||3)-Object.keys((null==r?void 0:r.players)||{}).length," more players)"]})]})})]}),(0,a.jsxs)("div",{className:"card p-4",children:[(0,a.jsx)("h3",{className:"font-medium mb-2",children:"How to Play"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsx)("p",{children:"• Play higher card combinations than the previous player"}),(0,a.jsx)("p",{children:"• Special effects: 7s (gift), 8s (reset), 10s (discard), Jacks (invert)"}),(0,a.jsx)("p",{children:"• First to empty hand becomes President, last becomes Asshole"}),(0,a.jsx)("p",{children:"• Exchange cards between rounds based on roles"})]}),(0,a.jsxs)("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[(0,a.jsx)("h4",{className:"font-medium text-purple-800 mb-1",children:"Playing with Bots"}),(0,a.jsxs)("div",{className:"text-xs text-purple-700 space-y-1",children:[(0,a.jsx)("p",{children:'\uD83E\uDD16 Use "Quick Start vs Bots" to instantly play against AI'}),(0,a.jsx)("p",{children:"\uD83C\uDFAF Or manually add bots one by one in the lobby"}),(0,a.jsx)("p",{children:"\uD83E\uDDE0 Bots use strategic thinking and provide challenging gameplay"}),(0,a.jsx)("p",{children:"⚡ Perfect for solo practice or when friends aren't available"})]})]})]})]}):(0,a.jsxs)("div",{className:"card p-8 max-w-md",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Join Game"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Room ID"}),(0,a.jsx)("input",{type:"text",value:p,onChange:e=>j(e.target.value),className:"input",placeholder:"Enter room ID"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Your Name"}),(0,a.jsx)("input",{type:"text",value:g,onChange:e=>b(e.target.value),className:"input",placeholder:"Enter your name",maxLength:20})]}),(0,a.jsx)("button",{onClick:()=>{p&&g&&(h(p,g),f(!0))},disabled:!p||!g,className:"btn-primary w-full",children:"Join Room"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),(0,a.jsxs)("button",{onClick:()=>{p&&g&&(h(p,g),f(!0),setTimeout(()=>{h(p,"Bot 1",!0),setTimeout(()=>h(p,"Bot 2",!0),200),setTimeout(()=>h(p,"Bot 3",!0),400)},500))},disabled:!p||!g,className:"btn-secondary w-full flex items-center justify-center",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Quick Start vs Bots"]})]})]})}function u(e){let{cardId:s,selected:t=!1,disabled:l=!1,onClick:n,size:c="md"}=e,r=(e=>{if(e.startsWith("JOKER"))return{rank:"JOKER",suit:"",displayRank:"\uD83C\uDCCF",color:"black"};if(e.startsWith("10"))return{rank:"10",suit:e[2],displayRank:"10",color:["H","D"].includes(e[2])?"red":"black"};let s=e[0],t=e[1];return{rank:s,suit:t,displayRank:s,color:["H","D"].includes(t)?"red":"black"}})(s),i=(e=>{switch(e){case"H":return"♥";case"D":return"♦";case"C":return"♣";case"S":return"♠";default:return""}})(r.suit);return(0,a.jsx)("div",{className:"\n        playing-card ".concat((()=>{switch(c){case"sm":return"w-12 h-16 text-xs";case"lg":return"w-20 h-28 text-lg";default:return"w-16 h-24 text-sm"}})(),"\n        ").concat(t?"selected":"","\n        ").concat(l?"disabled":"","\n        flex flex-col items-center justify-center\n        ").concat("red"===r.color?"card-suit-red":"card-suit-black","\n      "),onClick:l?void 0:n,children:"JOKER"===r.rank?(0,a.jsx)("div",{className:"text-2xl",children:"\uD83C\uDCCF"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"font-bold",children:r.displayRank}),(0,a.jsx)("div",{className:"text-lg",children:i})]})})}var p=t(5432),j=t(7006),g=t(8119),b=t(6643);function v(){var e,s,t;let{gameState:l,playerId:n,selectedCards:c,playCards:r,passTurn:d,selectCard:o,deselectCard:m,clearSelection:x}=i();if(!l||!n)return null;let h=l.players[n],v=l.turn===n,f=c.length>0&&v&&"play"===l.phase,N=v&&"play"===l.phase,y=e=>{console.log("Card clicked: ".concat(e,", isMyTurn: ").concat(v,", phase: ").concat(l.phase)),c.includes(e)?(console.log("Deselecting card: ".concat(e)),m(e)):(console.log("Selecting card: ".concat(e)),o(e))},w=()=>{var e;return(null===(e=l.current_pattern)||void 0===e?void 0:e.cards)||[]};return(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsx)("div",{className:"card p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Phase:"}),(0,a.jsx)("span",{className:"ml-2 font-medium capitalize",children:l.phase})]}),l.turn&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Turn:"}),(0,a.jsx)("span",{className:"ml-2 font-medium",children:(null===(e=l.players[l.turn])||void 0===e?void 0:e.name)||"Unknown"})]}),l.inversion_active&&(0,a.jsxs)("div",{className:"flex items-center text-orange-600",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-1"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Rank Inverted"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Current Pattern"}),(0,a.jsx)("div",{className:"font-medium",children:(()=>{let{rank:e,count:s,cards:t}=l.current_pattern;if(!e||!s)return"No cards played yet";let a=s.toString();return"".concat(a," ").concat(e).concat(s>1?"s":""," played")})()})]})]})}),w().length>0&&(0,a.jsxs)("div",{className:"card p-4 mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Current Pile"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:w().map(e=>(0,a.jsx)(u,{cardId:e,selected:!1,onClick:()=>{},disabled:!0},e))})]}),l.discard&&l.discard.length>0&&(0,a.jsxs)("div",{className:"card p-4 mb-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium mb-3",children:["Discard Pile (",l.discard.length," cards)"]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[l.discard.slice(-10).map((e,s)=>(0,a.jsx)("div",{className:"w-12 h-16 bg-gray-200 rounded border-2 border-dashed border-gray-400 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"?"})},"".concat(e,"-").concat(s))),l.discard.length>10&&(0,a.jsx)("div",{className:"w-12 h-16 bg-gray-100 rounded border flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-xs text-gray-600",children:["+",l.discard.length-10]})})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:Object.values(l.players).sort((e,s)=>e.seat-s.seat).map(e=>(0,a.jsxs)("div",{className:"card p-4 ".concat(e.id===l.turn?"ring-2 ring-blue-500":""),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"font-medium",children:e.name}),e.is_bot&&(0,a.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Bot"})]}),e.role&&(0,a.jsx)("span",{className:"role-".concat(e.role.toLowerCase()),children:e.role})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:[e.hand_count," cards"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[e.passed&&(0,a.jsx)("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:"Passed"}),(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.connected?"bg-green-500":"bg-red-500")})]})]})]},e.id))}),(null==h?void 0:h.hand)&&(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Your Hand"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[c.length," selected"]}),c.length>0&&(0,a.jsx)("button",{onClick:x,className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear"})]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:h.hand.map(e=>(0,a.jsx)(u,{cardId:e,selected:c.includes(e),onClick:()=>y(e),disabled:!v||"play"!==l.phase},e))}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("button",{onClick:()=>{f&&r(c)},disabled:!f,className:f?"btn-primary":"btn-disabled",children:["Play ",c.length," Card",1!==c.length?"s":""]}),N&&(0,a.jsxs)("button",{onClick:()=>{N&&d()},className:"btn-secondary",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Pass"]}),(null===(s=l.pending_effects.gift)||void 0===s?void 0:s.player_id)===h.id&&(0,a.jsxs)("div",{className:"flex items-center text-orange-600",children:[(0,a.jsx)(b.Z,{className:"h-4 w-4 mr-1"}),(0,a.jsxs)("span",{className:"text-sm",children:["Gift ",l.pending_effects.gift.remaining," cards"]})]})]}),!v&&"play"===l.phase&&(0,a.jsx)("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg text-center",children:(0,a.jsxs)("span",{className:"text-gray-600",children:["Waiting for ",(null===(t=l.players[l.turn])||void 0===t?void 0:t.name)||"other player","..."]})})]}),"exchange"===l.phase&&(0,a.jsx)("div",{className:"card p-4 mt-4 bg-blue-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"font-medium text-blue-900",children:"Exchange Phase"}),(0,a.jsx)("p",{className:"text-blue-700 text-sm",children:"Players are exchanging cards based on their roles from the previous round."})]})}),"finished"===l.phase&&(0,a.jsx)("div",{className:"card p-6 mt-4 bg-green-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-green-900 mb-2",children:"Round Complete!"}),(0,a.jsx)("div",{className:"space-y-2",children:l.finished_order.map((e,s)=>{let t=l.players[e],n=null==t?void 0:t.role;return(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsxs)("span",{className:"font-medium",children:["#",s+1]}),(0,a.jsx)("span",{children:null==t?void 0:t.name}),n&&(0,a.jsx)("span",{className:"role-".concat(n.toLowerCase()),children:n})]},e)})})]})})]})}var f=t(261),N=t(6264),y=t(1981),w=t(8784);function C(e){let{status:s,error:t,onConnect:n,onDisconnect:c,wsUrl:r,onWsUrlChange:i}=e,[d,o]=(0,l.useState)(!1);return(0,a.jsxs)("div",{className:"card p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:(()=>{switch(s){case"connected":return"text-green-600";case"connecting":return"text-yellow-600";case"error":return"text-red-600";default:return"text-gray-600"}})(),children:(()=>{switch(s){case"connected":return(0,a.jsx)(f.Z,{className:"h-5 w-5"});case"connecting":return(0,a.jsx)(N.Z,{className:"h-5 w-5 animate-spin"});case"error":return(0,a.jsx)(y.Z,{className:"h-5 w-5"});default:return(0,a.jsx)(w.Z,{className:"h-5 w-5"})}})()}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:(()=>{switch(s){case"connected":return"Connected";case"connecting":return"Connecting...";case"error":return"Connection Error";default:return"Disconnected"}})()}),t&&(0,a.jsx)("div",{className:"text-sm text-red-600",children:t})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>o(!d),className:"btn-secondary text-sm",children:"Settings"}),"connected"===s?(0,a.jsx)("button",{onClick:c,className:"btn-error",children:"Disconnect"}):(0,a.jsx)("button",{onClick:n,className:"btn-primary",disabled:!r||"connecting"===s,children:"Connect"})]})]}),d&&(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("label",{className:"font-medium text-sm",children:"WebSocket URL:"}),(0,a.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),className:"input flex-1 text-sm",placeholder:"ws://localhost:8000/ws",disabled:"connected"===s})]})})]})}var k=t(7405);function D(e){let{connectionState:s,onConnect:t,wsUrl:n}=e,{joinRoom:c}=i(),[r,m]=(0,l.useState)(""),[h,u]=(0,l.useState)("game-1");return"connected"!==s.status?(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsxs)("div",{className:"card p-8 max-w-md",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Welcome to President!"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Connect to the game server to start playing."}),"disconnected"===s.status&&(0,a.jsx)("button",{onClick:t,className:"btn-primary",disabled:!n,children:"Connect to Game"}),"connecting"===s.status&&(0,a.jsx)("div",{className:"text-yellow-600",children:"Connecting..."}),"error"===s.status&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-red-600 mb-4",children:"Connection failed"}),(0,a.jsx)("button",{onClick:t,className:"btn-primary",children:"Retry Connection"})]})]})}):(0,a.jsxs)("div",{className:"py-8 max-w-2xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-2",children:"Ready to Play President?"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Choose your game mode below"})]}),(0,a.jsxs)("div",{className:"card p-8 border-2 border-green-300 bg-gradient-to-br from-green-50 to-emerald-50",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:(0,a.jsx)(d.Z,{className:"h-8 w-8 text-green-600"})}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-green-800 mb-2",children:"Play vs AI Bots"}),(0,a.jsx)("p",{className:"text-green-700",children:"Jump straight into the action with intelligent AI opponents!"})]}),(0,a.jsxs)("div",{className:"space-y-4 max-w-md mx-auto",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1 text-green-800",children:"Your Name"}),(0,a.jsx)("input",{type:"text",value:r,onChange:e=>m(e.target.value),className:"input",placeholder:"Enter your name",maxLength:20})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1 text-green-800",children:"Room ID (optional)"}),(0,a.jsx)("input",{type:"text",value:h,onChange:e=>u(e.target.value),className:"input",placeholder:"game-1"})]}),(0,a.jsxs)("button",{onClick:()=>{r&&h&&(c(h,r),setTimeout(()=>{c(h,"Bot Alice",!0),setTimeout(()=>c(h,"Bot Bob",!0),200),setTimeout(()=>c(h,"Bot Charlie",!0),400)},500))},disabled:!r,className:"btn-primary w-full text-lg py-3",children:[(0,a.jsx)(k.Z,{className:"h-5 w-5 mr-2"}),"Start Game vs 3 AI Bots"]}),(0,a.jsxs)("div",{className:"text-center text-sm text-green-700",children:[(0,a.jsx)("p",{children:"\uD83E\uDD16 Instantly creates a 4-player game with strategic AI"}),(0,a.jsx)("p",{children:"⚡ Perfect for learning or solo practice"})]})]})]}),(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsx)(o.Z,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),(0,a.jsx)("h3",{className:"text-xl font-semibold",children:"Join/Create Custom Room"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Join an existing room or create one to invite friends"})]}),(0,a.jsx)("div",{className:"max-w-md mx-auto",children:(0,a.jsxs)("button",{onClick:()=>{r&&h&&c(h,r)},disabled:!r,className:"btn-secondary w-full",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Join Room (Add bots manually)"]})})]}),(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4 text-center",children:"Game Features"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-2",children:"\uD83C\uDFAE Gameplay"}),(0,a.jsxs)("ul",{className:"space-y-1 text-gray-600",children:[(0,a.jsx)("li",{children:"• Strategic card combinations"}),(0,a.jsx)("li",{children:"• Role-based card exchanges"}),(0,a.jsx)("li",{children:"• Special card effects (7s, 8s, 10s, Jacks)"}),(0,a.jsx)("li",{children:"• Real-time multiplayer"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-2",children:"\uD83E\uDD16 AI Opponents"}),(0,a.jsxs)("ul",{className:"space-y-1 text-gray-600",children:[(0,a.jsx)("li",{children:"• Intelligent decision making"}),(0,a.jsx)("li",{children:"• Strategic card play"}),(0,a.jsx)("li",{children:"• Challenging but fair"}),(0,a.jsx)("li",{children:"• Instant responses"})]})]})]})]})]})}function S(){let{gameState:e,connectionState:s,connect:t,disconnect:n}=i(),[c,r]=(0,l.useState)("");(0,l.useEffect)(()=>{r("ws://localhost:8000/ws")},[]);let d=()=>{c&&t(c)};return(0,a.jsx)("div",{className:"min-h-screen p-4",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("header",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"President Card Game"}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"Multiplayer card game with custom rules and special effects"})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(C,{status:s.status,error:s.error,onConnect:d,onDisconnect:()=>{n()},wsUrl:c,onWsUrlChange:r})}),(0,a.jsx)("div",{className:"flex justify-center",children:e?"lobby"===e.phase?(0,a.jsx)(h,{}):(0,a.jsx)(v,{}):(0,a.jsx)(D,{connectionState:s,onConnect:d,wsUrl:c})}),!e&&(0,a.jsx)("div",{className:"mt-12 max-w-4xl mx-auto",children:(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Game Rules"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-2",children:"Basic Rules:"}),(0,a.jsxs)("ul",{className:"space-y-1 text-gray-600",children:[(0,a.jsx)("li",{children:"• 3-5 players (optimal: 4-5)"}),(0,a.jsx)("li",{children:"• Play higher card combinations"}),(0,a.jsx)("li",{children:"• First to empty hand becomes President"}),(0,a.jsx)("li",{children:"• Last player becomes Asshole"}),(0,a.jsx)("li",{children:"• Exchange cards between rounds"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-2",children:"Special Effects:"}),(0,a.jsxs)("ul",{className:"space-y-1 text-gray-600",children:[(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"7s:"})," Gift cards to other players"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"8s:"})," Reset the pile, play again"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"10s:"})," Discard additional cards"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"Jacks:"})," Invert rank ordering"]})]})]})]})]})})]})})}}},function(e){e.O(0,[557,971,472,744],function(){return e(e.s=1292)}),_N_E=e.O()}]);